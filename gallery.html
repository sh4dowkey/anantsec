<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="assets/css/style.css" /> 
    <link rel="stylesheet" href="assets/css/gallery.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.11/vue.min.js"></script>
    <title>Portfolio Showcase | anantsec</title>
  </head>
  <body>
    <div id="app" class="page-container">
      <nav class="nav-container">
        <div class="nav-left">
          <a href="index.html" id="home_page" style="font-family: monospace; display: flex; align-items: center; gap: 6px;">
            <span>>anantSec</span>
            <span id="svg-icon" class="flicker"></span>
          </a>
        </div>
        <input type="checkbox" id="menu-toggle" />
        <label for="menu-toggle" class="menu-icon">&#9776;</label>
        <div class="nav-right">
          <a href="about.html">About</a>
          <a href="gallery.html">Gallery</a>
          <a href="notes.html">Notes</a>
          <a href="resume.html">Resume</a>
          <a href="certificates.html">Certificates</a>
          <a href="writeups.html">Writeups</a>
          <div class="theme-icon">‚óê</div>
        </div>
      </nav>

      <main class="album-main-content">
        <div class="container">
          <div class="album" :class="{'album--open': isOpenedTop}">
            <div
              class="album__paper"
              :style="{zIndex: isOpenedTop ? 0 : items.length + 1 }"
              :class="{'open': isOpenedTop}"
              @click="topOpen(isOpenedTop)">
              <div
                class="album__page front"
                :style="{transform: `translateZ(0.${items.length + 1}px)`}">
                <div>
                  <div class="album__top-title">Album</div>
                  <p class="txt-tcw">Evidence Locker</p>
                  <div class="cat-mark"></div>
                </div>
              </div>
              <div class="album__page back" :style="{zIndex: 0}"></div>
            </div>
            
            <div
              class="album__paper"
              v-for="(page, idx) in items"
              :key="idx + 1"
              :style="{zIndex: page.isOpen ? idx + 1 : items.length + 1 - (idx + 1) }"
              :class="{'open': page.isOpen}"
              @click="idx + 1 === items.length ? reset() : open(idx, page.isOpen)">
              <div
                class="album__page front"
                :style="{transform: `translateZ(0.${items.length + 1 - (idx + 1)}px)`}">
                <div class="content">
                  <div class="content__title">{{ page.title }}</div>
                  <div class="content__img1">
                    <img :src="page.img1" @click.stop="showLightbox(page.img1)" />
                    <div class="content__text">{{ idx + 1 }}</div>
                  </div>
                  <div class="content__img2">
                    <img :src="page.img2" @click.stop="showLightbox(page.img2)" />
                  </div>
                  <div class="content__img3">
                    <img :src="page.img3" @click.stop="showLightbox(page.img3)" />
                  </div>
                </div>
              </div>
              <div class="album__page back" :style="{zIndex: idx + 1}"></div>
            </div>
            <div class="album__back"></div>
            <div class="album__bottom"></div>
            <div class="album__shadow"></div>
          </div>
        </div>
        
        <transition name="prompt-fade">
            <div v-if="!isOpenedTop" class="album-instruction">
                Click to explore
            </div>
        </transition>

        <div v-if="lightboxVisible" class="lightbox-overlay" @click.self="hideLightbox">
          <span class="lightbox-close" @click="hideLightbox">&times;</span>
          <img class="lightbox-content" :src="lightboxSrc" />
        </div>
      </main>
    </div>

    <script src="assets/js/main.js"></script>
    <script src="assets/js/gallery.js"></script>
  </body>
</html>